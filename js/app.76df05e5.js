(function(t){function e(e){for(var a,i,o=e[0],l=e[1],c=e[2],u=0,p=[];u<o.length;u++)i=o[u],n[i]&&p.push(n[i][0]),n[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,o=1;o<r.length;o++){var l=r[o];0!==n[l]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},n={app:0},s=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"200f":function(t,e,r){},"30f1":function(t,e,r){},"56a4":function(t,e,r){"use strict";var a=r("c28b"),n=r.n(a);n.a},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),n=r("bb71");r("da64");a["a"].use(n["a"],{iconfont:"md"});var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-navigation-drawer",{attrs:{app:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-list",[t._l(t.links,function(e){return r("v-list-tile",{key:e.title,attrs:{to:e.url}},[r("v-list-tile-action",[r("v-icon",[t._v(t._s(e.icon))])],1),r("v-list-tile-content",[r("v-list-tile-title",{domProps:{textContent:t._s(e.title)}})],1)],1)}),t.isUserLoggedIn?r("v-list-tile",{on:{click:t.onLogout}},[r("v-list-tile-action",[r("v-icon",[t._v("logout")])],1),r("v-list-tile-content",[r("v-list-tile-title",{domProps:{textContent:t._s("Logout")}})],1)],1):t._e()],2)],1),r("v-toolbar",{attrs:{app:"",dark:"",color:"primary"}},[r("v-toolbar-side-icon",{staticClass:"hidden-md-and-up",on:{click:function(e){t.drawer=!t.drawer}}}),r("v-toolbar-title",[r("router-link",{staticClass:"pointer",attrs:{to:"/",tag:"span"}},[t._v("Ap application")])],1),r("v-spacer"),r("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[t._l(t.links,function(e){return r("v-btn",{key:e.title,attrs:{to:e.url,flat:""}},[r("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v("\n        "+t._s(e.title)+"\n      ")],1)}),t.isUserLoggedIn?r("v-btn",{attrs:{flat:""},on:{click:t.onLogout}},[r("v-icon",{attrs:{left:""}},[t._v("logout")]),t._v("Logout\n      ")],1):t._e()],2)],1),r("v-content",[r("router-view")],1),t.error?[r("v-snackbar",{attrs:{"multi-line":!0,timeout:5e3,color:"error",value:!0},on:{input:t.closeError}},[t._v("\n      "+t._s(t.error)+"\n      "),r("v-btn",{attrs:{dark:"",flat:""},on:{click:t.closeError}},[t._v("Close")])],1)]:t._e()],2)},i=[],o={data:function(){return{drawer:!1}},methods:{closeError:function(){this.$store.dispatch("clearError")},onLogout:function(){this.$store.dispatch("logoutUser"),this.$router.push("/")}},computed:{error:function(){return this.$store.getters.error},isUserLoggedIn:function(){return this.$store.getters.isUserLoggedIn},links:function(){return this.isUserLoggedIn?[{title:"Orders",icon:"bookmark_border",url:"/orders"},{title:"New ad",icon:"note_add",url:"/new"},{title:"My ads",icon:"list",url:"/list"}]:[{title:"Login",icon:"lock",url:"/login"},{title:"Registration",icon:"face",url:"/registration"}]}}},l=o,c=(r("d64c"),r("2877")),d=r("6544"),u=r.n(d),p=r("7496"),v=r("8336"),m=r("549c"),f=r("132d"),h=r("8860"),g=r("ba95"),b=r("40fe"),x=r("5d23"),w=r("f774"),y=r("2db4"),V=r("9910"),_=r("71d9"),C=r("2a7f"),k=r("706c"),L=Object(c["a"])(l,s,i,!1,null,null,null),E=L.exports;u()(L,{VApp:p["a"],VBtn:v["a"],VContent:m["a"],VIcon:f["a"],VList:h["a"],VListTile:g["a"],VListTileAction:b["a"],VListTileContent:x["a"],VListTileTitle:x["c"],VNavigationDrawer:w["a"],VSnackbar:y["a"],VSpacer:V["a"],VToolbar:_["a"],VToolbarItems:C["a"],VToolbarSideIcon:k["a"],VToolbarTitle:C["b"]});var O=r("8c4f"),A=r("2f62"),S=(r("456d"),r("ac6a"),r("cebc")),T=(r("7f7f"),r("96cf"),r("3b8d")),$=(r("7514"),r("d225")),j=r("8aa5"),I=function t(e,r,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"https://cdn-images-1.medium.com/max/1200/1*-PlqbnwqjqJi_EVmrhmuDQ.jpeg",s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;Object($["a"])(this,t),this.title=e,this.description=r,this.ownerId=a,this.imageSrc=n,this.promo=s,this.id=i},P={state:{ads:[]},mutations:{createAd:function(t,e){t.ads.push(e)},loadAds:function(t,e){t.ads=e},updateAd:function(t,e){var r=e.title,a=e.description,n=e.id,s=t.ads.find(function(t){return String(t.id)===String(n)});s.title=r,s.description=a}},actions:{createAd:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e,r){var a,n,s,i,o,l,c,d,u;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=e.getters,a("clearError"),a("setLoading",!0),s=r.image,t.prev=4,i=new I(r.title,r.description,n.user.id,r.imageSrc,r.promo),t.next=8,j["database"]().ref("ads").push(i);case 8:return o=t.sent,l=s.name.slice(s.name.lastIndexOf(".")),t.next=12,j["storage"]().ref("ads/".concat(o.key,".").concat(l)).put(s);case 12:return c=t.sent,t.next=15,c.ref.getDownloadURL();case 15:return d=t.sent,t.next=18,j["database"]().ref("ads").child(o.key).update({imageSrc:d});case 18:a("setLoading",!1),u=Object(S["a"])({},i,{id:o.key,imageSrc:d}),a("createAd",u),t.next=28;break;case 23:throw t.prev=23,t.t0=t["catch"](4),a("setError",t.t0.message),a("setLoading",!1),t.t0;case 28:case"end":return t.stop()}},t,null,[[4,23]])}));function e(e,r){return t.apply(this,arguments)}return e}(),fetchAds:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e){var r,a,n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,r("clearError"),r("setLoading",!0),t.prev=3,t.next=6,j["database"]().ref("ads").once("value");case 6:a=t.sent,n=a.val(),s=Array(),Object.keys(n).forEach(function(t){var e=n[t];s.push(new I(e.title,e.description,e.ownerId,e.imageSrc,e.promo,t))}),r("loadAds",s),r("setLoading",!1),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](3),r("setError",t.t0.message),r("setLoading",!1);case 18:case"end":return t.stop()}},t,null,[[3,14]])}));function e(e){return t.apply(this,arguments)}return e}(),updateAd:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e,r){var a,n,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=e.commit,n=r.title,s=r.description,i=r.id,a("clearError"),a("setLoading",!0),t.prev=4,a("setLoading",!1),j["database"]().ref("ads").child(i).update({title:n,description:s}),a("updateAd",{title:n,description:s,id:i}),t.next=15;break;case 10:throw t.prev=10,t.t0=t["catch"](4),a("setError",t.t0.message),a("setLoading",!1),t.t0;case 15:case"end":return t.stop()}},t,null,[[4,10]])}));function e(e,r){return t.apply(this,arguments)}return e}()},getters:{ads:function(t){return t.ads},promoAds:function(t){return t.ads.filter(function(t){return t.promo})},myAds:function(t,e){return t.ads.filter(function(t){return String(t.ownerId)===String(e.user.id)})},adById:function(t){return function(e){return t.ads.find(function(t){return String(t.id)===String(e)})}}}},R=function t(e){Object($["a"])(this,t),this.id=e},U={state:{user:null},mutations:{setUser:function(t,e){t.user=e}},actions:{registerUser:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e,r){var a,n,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=r.email,s=r.password,a("clearError"),a("setLoading",!0),t.prev=4,t.next=7,j["auth"]().createUserWithEmailAndPassword(n,s);case 7:i=t.sent,console.log("userData.user",i.user),console.log("userData.user.uid",i.user.uid),console.log("userData",i),a("setUser",new R(i.user.uid)),a("setLoading",!1),console.log("registered success!"),t.next=22;break;case 16:throw t.prev=16,t.t0=t["catch"](4),a("setLoading",!1),a("setError",t.t0.message),console.log("error in registeUser",t.t0.message),t.t0;case 22:case"end":return t.stop()}},t,null,[[4,16]])}));function e(e,r){return t.apply(this,arguments)}return e}(),loginUser:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e,r){var a,n,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=r.email,s=r.password,a("clearError"),a("setLoading",!0),t.prev=4,t.next=7,j["auth"]().signInWithEmailAndPassword(n,s);case 7:i=t.sent,a("setUser",new R(i.user.uid)),a("setLoading",!1),console.log("login success!"),t.next=19;break;case 13:throw t.prev=13,t.t0=t["catch"](4),a("setLoading",!1),a("setError",t.t0.message),console.log("error in loginUser",t.t0.message),t.t0;case 19:case"end":return t.stop()}},t,null,[[4,13]])}));function e(e,r){return t.apply(this,arguments)}return e}(),logoutUser:function(t){var e=t.commit;j["auth"]().signOut(),e("setUser",null)},autoLoginUser:function(t,e){var r=t.commit;r("setUser",new R(e.uid))}},getters:{user:function(t){return t.user},isUserLoggedIn:function(t){return null!==t.user}}},D={state:{loading:!1,error:null},mutations:{setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null}},actions:{setLoading:function(t,e){var r=t.commit;r("setLoading",e)},setError:function(t,e){var r=t.commit;r("setError",e)},clearError:function(t){var e=t.commit;e("clearError")}},getters:{loading:function(t){return t.loading},error:function(t){return t.error}}},F=function t(e,r,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object($["a"])(this,t),this.name=e,this.phone=r,this.adId=a,this.done=n,this.id=s},B={state:{orders:[]},mutations:{loadOrders:function(t,e){t.orders=e}},actions:{createOrder:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e,r){var a,n,s,i,o,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=r.name,s=r.phone,i=r.adId,o=r.ownerId,l=new F(n,s,i),a("clearError"),t.prev=4,t.next=7,j["database"]().ref("/users/".concat(o,"/orders")).push(l);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t["catch"](4),a("setError",t.t0.message),t.t0;case 13:case"end":return t.stop()}},t,null,[[4,9]])}));function e(e,r){return t.apply(this,arguments)}return e}(),fetchOrders:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e){var r,a,n,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=e.getters,r("setLoading",!0),r("clearError"),n=[],t.prev=4,t.next=7,j["database"]().ref("users/".concat(a.user.id,"/orders")).once("value");case 7:s=t.sent,i=s.val(),Object.keys(i).forEach(function(t){var e=i[t];n.push(new F(e.name,e.phone,e.adId,e.done,t))}),r("loadOrders",n),r("setLoading",!1),t.next=19;break;case 14:throw t.prev=14,t.t0=t["catch"](4),r("setLoading",!1),r("setError",t.t0.message),t.t0;case 19:case"end":return t.stop()}},t,null,[[4,14]])}));function e(e){return t.apply(this,arguments)}return e}(),markOrderDone:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e,r){var a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=e.getters,a("clearError"),t.prev=2,t.next=5,j["database"]().ref("/users/".concat(n.user.id,"/orders")).child(r).update({done:!0});case 5:t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](2),a("setError",t.t0.message),t.t0;case 11:case"end":return t.stop()}},t,null,[[2,7]])}));function e(e,r){return t.apply(this,arguments)}return e}()},getters:{doneOrders:function(t){return t.orders.filter(function(t){return t.done})},undoneOrders:function(t){return t.orders.filter(function(t){return!t.done})},orders:function(t,e){return e.undoneOrders.concat(e.doneOrders)}}};a["a"].use(A["a"]);var q=new A["a"].Store({modules:{ads:P,user:U,shared:D,orders:B},state:{},mutations:{},actions:{}}),z=function(t,e,r){q.getters.user&&r()},M=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.loading?r("div",[r("v-container",{staticClass:"pt-5"},[r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[r("v-progress-circular",{attrs:{size:100,width:3,color:"purple",indeterminate:""}})],1)],1)],1)],1):r("div",[0!==t.promoAds.length?r("v-container",{attrs:{fluid:""}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-carousel",t._l(t.promoAds,function(e){return r("v-carousel-item",{key:e.id,attrs:{src:e.imageSrc}},[r("div",{staticClass:"car-link"},[r("v-btn",{staticClass:"error",attrs:{to:"/ad/"+e.id}},[t._v(t._s(e.title))])],1)])}),1)],1)],1)],1):t._e(),r("v-container",{attrs:{"grid-list-lg":""}},[r("v-layout",{attrs:{row:"",wrap:""}},t._l(t.ads,function(e){return r("v-flex",{key:e.id,attrs:{xs12:"",sm6:"",md4:"",src:e.imageSrc}},[r("v-card",[r("v-img",{attrs:{src:e.imageSrc,"aspect-ratio":"2.75"}}),r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("h3",{staticClass:"headline mb-0"},[t._v(t._s(e.title))]),r("div",[t._v(t._s(e.description))])])]),r("v-card-actions",[r("v-btn",{attrs:{flat:"",to:"/ad/"+e.id}},[t._v("Open")]),r("app-buy-modal",{attrs:{ad:e}})],1)],1)],1)}),1)],1)],1)},Y=[],J={computed:{loading:function(){return this.$store.getters.loading},promoAds:function(){return this.$store.getters.promoAds},ads:function(){return this.$store.getters.ads}}},N=J,Q=(r("e24f"),r("b0af")),W=r("99d9"),K=r("12b2"),Z=r("5e66"),G=r("3e35"),H=r("a5238"),X=r("0e8f"),tt=r("adda"),et=r("a722"),rt=r("490a"),at=Object(c["a"])(N,M,Y,!1,null,"34ec2678",null),nt=at.exports;u()(at,{VBtn:v["a"],VCard:Q["a"],VCardActions:W["a"],VCardTitle:K["a"],VCarousel:Z["a"],VCarouselItem:G["a"],VContainer:H["a"],VFlex:X["a"],VImg:tt["a"],VLayout:et["a"],VProgressCircular:rt["a"]});var st=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.loading?r("v-layout",{staticClass:"pt-5",attrs:{row:""}},[r("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[r("v-progress-circular",{attrs:{size:100,width:3,color:"purple",indeterminate:""}})],1)],1):r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card",[r("v-img",{attrs:{src:t.ad.imageSrc,height:"300px"}}),r("v-card-text",[r("h1",{staticClass:"text--secondary"},[t._v(t._s(t.ad.title))]),r("p",[t._v(t._s(t.ad.description))])]),r("v-card-actions",[r("v-spacer"),t.isOwner?r("app-edit-ad-modal",{attrs:{ad:t.ad}}):t._e(),r("app-buy-modal",{attrs:{ad:t.ad}})],1)],1)],1)],1)],1)},it=[],ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{width:"400px"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[r("v-btn",{staticClass:"warning mr-2",attrs:{slot:"activator",flat:""},slot:"activator"},[t._v("Edit")]),r("v-card",[r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-title",[r("h1",{staticClass:"text--secondary"},[t._v("Edit Ad")])])],1)],1),r("v-divider"),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{name:"title",label:"Title",type:"text"},model:{value:t.editedTitle,callback:function(e){t.editedTitle=e},expression:"editedTitle"}}),r("v-textarea",{attrs:{name:"description",label:"Description",type:"text","multi-line":""},model:{value:t.editedDescription,callback:function(e){t.editedDescription=e},expression:"editedDescription"}})],1)],1),r("v-divider"),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{flat:""},on:{click:t.onCancel}},[t._v("Cancel")]),r("v-btn",{staticClass:"success",attrs:{flat:""},on:{click:t.onSave}},[t._v("Save")])],1)],1)],1)],1)],1)],1)},lt=[],ct={props:["ad"],data:function(){return{modal:!1,editedTitle:this.ad.title,editedDescription:this.ad.description}},methods:{onCancel:function(){this.editedDescription=this.ad.description,this.editedTitle=this.ad.title,this.modal=!1},onSave:function(){""!==this.editedDescription&&""!==this.editedTitle&&(this.$store.dispatch("updateAd",{title:this.editedTitle,description:this.editedDescription,id:this.ad.id}),this.modal=!1)}}},dt=ct,ut=r("169a"),pt=r("ce7e6"),vt=r("2677"),mt=r("a844"),ft=Object(c["a"])(dt,ot,lt,!1,null,null,null),ht=ft.exports;u()(ft,{VBtn:v["a"],VCard:Q["a"],VCardActions:W["a"],VCardTitle:K["a"],VContainer:H["a"],VDialog:ut["a"],VDivider:pt["a"],VFlex:X["a"],VLayout:et["a"],VSpacer:V["a"],VTextField:vt["a"],VTextarea:mt["a"]});var gt={props:["id"],computed:{ad:function(){var t=this.id;return this.$store.getters.adById(t)},loading:function(){return this.$store.getters.loading},isOwner:function(){return String(this.ad.ownerId)===String(this.$store.getters.user.id)}},components:{appEditAdModal:ht}},bt=gt,xt=Object(c["a"])(bt,st,it,!1,null,null,null),wt=xt.exports;u()(xt,{VCard:Q["a"],VCardActions:W["a"],VCardText:W["b"],VContainer:H["a"],VFlex:X["a"],VImg:tt["a"],VLayout:et["a"],VProgressCircular:rt["a"],VSpacer:V["a"]});var yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.loading||0===t.myAds.length?t.loading||0!==t.myAds.length?r("v-layout",[r("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[r("v-progress-circular",{attrs:{size:100,width:3,color:"purple",indeterminate:""}})],1)],1):r("v-layout",[r("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[r("h1",{staticClass:"text--primary"},[t._v("You have no ads")])])],1):r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("h1",{staticClass:"text--secondary mb-3"},[t._v("Ad List")]),t._l(t.myAds,function(e){return r("v-card",{key:e.id,staticClass:"evalation-10 mb-3"},[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs4:""}},[r("v-img",{attrs:{src:e.imageSrc,height:"160px"}})],1),r("v-flex",{attrs:{xs8:""}},[r("v-card-text",[r("h2",{staticClass:"text--seconday"},[t._v(t._s(e.title))]),r("p",[t._v(t._s(e.description))])]),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"primary",attrs:{to:"/ad/"+e.id}},[t._v("Open")])],1)],1)],1)],1)})],2)],1)],1)},Vt=[],_t={data:function(){return{}},computed:{myAds:function(){return this.$store.getters.myAds},loading:function(){return this.$store.getters.loading}}},Ct=_t,kt=Object(c["a"])(Ct,yt,Vt,!1,null,null,null),Lt=kt.exports;u()(kt,{VBtn:v["a"],VCard:Q["a"],VCardActions:W["a"],VCardText:W["b"],VContainer:H["a"],VFlex:X["a"],VImg:tt["a"],VLayout:et["a"],VProgressCircular:rt["a"],VSpacer:V["a"]});var Et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("h1",{staticClass:"text--secondary"},[t._v("Create new ad")]),r("v-form",{ref:"form",staticClass:"mb-4",attrs:{validation:""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{name:"title",label:"Ad title",type:"text",required:"",rules:[function(t){return!!t||"Title is required"}]},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),r("v-textarea",{attrs:{name:"description",label:"Description",rules:[function(t){return!!t||"Description is required"}]},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),r("v-layout",{attrs:{row:"","mb-3":""}},[r("v-flex",{attrs:{xs12:""}},[r("v-btn",{staticClass:"warning",on:{click:t.triggerUpload}},[t._v("\n            Upload\n            "),r("v-icon",{attrs:{right:"",dark:""}},[t._v("cloud_upload")])],1),r("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFileChange}})],1)],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[t.imageSrc?r("v-img",{attrs:{src:t.imageSrc}}):t._e()],1)],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-switch",{attrs:{color:"primary",label:"Add to promo"},model:{value:t.promo,callback:function(e){t.promo=e},expression:"promo"}})],1)],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-spacer",[r("v-btn",{staticClass:"success",attrs:{disabled:!t.valid&&Boolean(t.image)||t.loading,loading:t.loading},on:{click:t.createAd}},[t._v("Create add")])],1)],1)],1)],1)],1)],1)},Ot=[],At={data:function(){return{title:"",description:"",valid:!1,promo:!1,image:null,imageSrc:""}},computed:{loading:function(){return this.$store.getters.loading}},methods:{onFileChange:function(t){var e=this,r=t.target.files[0],a=new FileReader;a.onload=function(){e.imageSrc=a.result},a.readAsDataURL(r),this.image=r},triggerUpload:function(){this.$refs.fileInput.click()},createAd:function(){var t=this;if(this.$refs.form.validate()&&this.image){var e={title:this.title,description:this.description,promo:this.promo,imageSrc:"",image:this.image};this.$store.dispatch("createAd",e).then(function(){t.$router.push("/list")})}}}},St=At,Tt=(r("56a4"),r("4bd4")),$t=r("b73d"),jt=Object(c["a"])(St,Et,Ot,!1,null,null,null),It=jt.exports;u()(jt,{VBtn:v["a"],VContainer:H["a"],VFlex:X["a"],VForm:Tt["a"],VIcon:f["a"],VImg:tt["a"],VLayout:et["a"],VSpacer:V["a"],VSwitch:$t["a"],VTextField:vt["a"],VTextarea:mt["a"]});var Pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[t._v("Login form")])],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{validation:""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{"prepend-icon":"person",name:"email",label:"Email",type:"email",rules:t.emailRules},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{"prepend-icon":"lock",name:"password",label:"Password",type:"password",counter:6,rules:t.passwordRules},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{disabled:!t.valid||t.loading,loading:t.loading,color:"primary"},on:{click:t.submit}},[t._v("Login")])],1)],1)],1)],1)],1)},Rt=[],Ut={data:function(){return{email:"",password:"",valid:!1,emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],passwordRules:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>=6||"Password must be equal or more than 6 characters"}]}},computed:{loading:function(){return this.$store.getters.loading}},methods:{submit:function(){var t=this;if(this.$refs.form.validate()){var e={email:this.email,password:this.password};this.$store.dispatch("loginUser",e).then(function(){t.$router.push("/")}).catch(function(){})}}},created:function(){this.$route.query["loginError"]&&this.$store.dispatch("setError","Please log in to access this page.")}},Dt=Ut,Ft=Object(c["a"])(Dt,Pt,Rt,!1,null,null,null),Bt=Ft.exports;u()(Ft,{VBtn:v["a"],VCard:Q["a"],VCardActions:W["a"],VCardText:W["b"],VContainer:H["a"],VFlex:X["a"],VForm:Tt["a"],VLayout:et["a"],VSpacer:V["a"],VTextField:vt["a"],VToolbar:_["a"],VToolbarTitle:C["b"]});var qt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[t._v("Registration form")])],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{"prepend-icon":"person",name:"email",label:"Email",type:"email",rules:t.emailRules},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{"validate-on-blur":"","prepend-icon":"lock",name:"password",label:"Password",type:"password",counter:6,rules:t.passwordRules},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),r("v-text-field",{attrs:{"prepend-icon":"lock",name:"confirsmPassword",label:"Confirm Password",type:"password",counter:6,rules:t.confirmPasswordRules},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{disabled:!t.valid||t.loading,loading:t.loading,color:"primary"},on:{click:t.submit}},[t._v("Create account!")])],1)],1)],1)],1)],1)},zt=[],Mt={data:function(){var t=this;return{email:"",password:"",confirmPassword:"",valid:!1,emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],passwordRules:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>=6||"Password must be equal or more than 6 characters"}],confirmPasswordRules:[function(t){return!!t||"Confirm Password is required"},function(e){return e===t.password||"Passwords should match"}]}},computed:{loading:function(){return this.$store.getters.loading}},methods:{submit:function(){var t=this;if(this.$refs.form.validate()){var e={email:this.email,password:this.password};this.$store.dispatch("registerUser",e).then(function(){t.$router.push("/")}).catch(function(){})}}}},Yt=Mt,Jt=Object(c["a"])(Yt,qt,zt,!1,null,null,null),Nt=Jt.exports;u()(Jt,{VBtn:v["a"],VCard:Q["a"],VCardActions:W["a"],VCardText:W["b"],VContainer:H["a"],VFlex:X["a"],VForm:Tt["a"],VLayout:et["a"],VSpacer:V["a"],VTextField:vt["a"],VToolbar:_["a"],VToolbarTitle:C["b"]});var Qt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{row:""}},[t.loading?r("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[r("v-progress-circular",{attrs:{size:100,width:3,color:"purple",indeterminate:""}})],1):t.loading||0===t.orders.length?r("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[r("h1",{staticClass:"text--secondary"},[t._v("You have no orders")])]):r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("h1",{staticClass:"text--secondary mb-3"},[t._v("Orders")]),r("v-list",{attrs:{subheader:"","three-line":""}},t._l(t.orders,function(e){return r("v-list-tile",{key:e.id,staticClass:"mb-2"},[r("v-list-tile-action",[r("v-checkbox",{attrs:{"input-value":e.done,color:"success"},on:{click:function(r){return t.markDone(e)}}})],1),r("v-list-tile-content",[r("v-list-tile-title",[t._v(t._s(e.name))]),r("v-list-tile-sub-title",[t._v(t._s(e.phone))])],1),r("v-list-tile-action",[r("v-btn",{staticClass:"primary",attrs:{to:"/ad/"+e.adId}},[t._v("Open")])],1)],1)}),1)],1)],1)],1)},Wt=[],Kt={computed:{loading:function(){return this.$store.getters.loading},orders:function(){return this.$store.getters.orders}},methods:{markDone:function(t){this.$store.dispatch("markOrderDone",t.id).then(function(){t.done=!0}).catch(function(){})}},created:function(){this.$store.dispatch("fetchOrders")}},Zt=Kt,Gt=r("ac7c"),Ht=Object(c["a"])(Zt,Qt,Wt,!1,null,null,null),Xt=Ht.exports;u()(Ht,{VBtn:v["a"],VCheckbox:Gt["a"],VContainer:H["a"],VFlex:X["a"],VLayout:et["a"],VList:h["a"],VListTile:g["a"],VListTileAction:b["a"],VListTileContent:x["a"],VListTileSubTitle:x["b"],VListTileTitle:x["c"],VProgressCircular:rt["a"]}),a["a"].use(O["a"]);var te=new O["a"]({mode:"history",base:"/",routes:[{path:"",name:"home",component:nt},{path:"/ad/:id",props:!0,name:"ad",component:wt},{path:"/list",name:"list",component:Lt,beforeEnter:z},{path:"/new",name:"newAd",component:It,beforeEnter:z},{path:"/login",name:"login",component:Bt},{path:"/registration",name:"reg",component:Nt},{path:"/orders",name:"orders",component:Xt,beforeEnter:z}]}),ee=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{width:"400px"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[r("v-btn",{staticClass:"primary mr-2",attrs:{slot:"activator"},slot:"activator"},[t._v("Buy")]),r("v-card",[r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-title",[r("h1",{staticClass:"text--secondary"},[t._v("Do you want to buy it?")])])],1)],1),r("v-divider"),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{name:"name",label:"Your name",type:"text"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),r("v-text-field",{attrs:{name:"phone",label:"Your phone",type:"tel"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1),r("v-divider"),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{flat:"",disabled:t.localLoading},on:{click:t.onCancel}},[t._v("Close")]),r("v-btn",{staticClass:"success",attrs:{flat:"",disabled:t.localLoading,loading:t.localLoading},on:{click:t.onBuy}},[t._v("Buy it!")])],1)],1)],1)],1)],1)],1)},re=[],ae={props:["ad"],data:function(){return{modal:!1,name:"",phone:"",localLoading:!1}},methods:{onCancel:function(){this.name="",this.phone="",this.modal=!1},onBuy:function(){var t=this;""!==this.name&&""!==this.phone&&(this.localLoading=!0,this.$store.dispatch("createOrder",{name:this.name,phone:this.phone,adId:this.ad.id,ownerId:this.ad.ownerId}).finally(function(){t.name="",t.phone="",t.localLoading=!1,t.modal=!1}))}}},ne=ae,se=Object(c["a"])(ne,ee,re,!1,null,null,null),ie=se.exports;u()(se,{VBtn:v["a"],VCard:Q["a"],VCardActions:W["a"],VCardTitle:K["a"],VContainer:H["a"],VDialog:ut["a"],VDivider:pt["a"],VFlex:X["a"],VLayout:et["a"],VSpacer:V["a"],VTextField:vt["a"]}),a["a"].config.productionTip=!1,a["a"].component("app-buy-modal",ie),new a["a"]({router:te,store:q,render:function(t){return t(E)},created:function(){var t=this;j["initializeApp"]({apiKey:"AIzaSyBnYPy9ZSbi1O8r847UkpOvzFkEm_eCr0Q",authDomain:"itc-ad-project-7a54c.firebaseapp.com",databaseURL:"https://itc-ad-project-7a54c.firebaseio.com",projectId:"itc-ad-project-7a54c",storageBucket:"itc-ad-project-7a54c.appspot.com",messagingSenderId:"718884955747",appId:"1:718884955747:web:335d1e12096e9067"}),j["auth"]().onAuthStateChanged(function(e){e&&t.$store.dispatch("autoLoginUser",e)}),this.$store.dispatch("fetchAds")}}).$mount("#app")},c28b:function(t,e,r){},d64c:function(t,e,r){"use strict";var a=r("30f1"),n=r.n(a);n.a},e24f:function(t,e,r){"use strict";var a=r("200f"),n=r.n(a);n.a}});
//# sourceMappingURL=app.76df05e5.js.map